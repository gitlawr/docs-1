
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="keywords" content="['Harvester', 'harvester', 'Rancher', 'rancher', 'Install Harverster', 'Installing Harverster', 'Harverster Installation', 'Harvester Configuration']">
      
      
      
        <link rel="canonical" href="https://docs.harvesterhci.io/v0.2/install/harvester-configuration/">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.5">
    
    
      
        <title>Harvester Configuration - Harvester - Open Source Hyperconverged Infrastructure</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="/assets/swagger-ui/swagger-ui.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#harvester-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://harvesterhci.io" title="Harvester - Open Source Hyperconverged Infrastructure" class="md-header__button md-logo" aria-label="Harvester - Open Source Hyperconverged Infrastructure" data-md-component="logo">
      
  <img src="../../assets/logo_horizontal_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Harvester - Open Source Hyperconverged Infrastructure
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Harvester Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/harvester/harvester/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    harvester/harvester
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://harvesterhci.io" title="Harvester - Open Source Hyperconverged Infrastructure" class="md-nav__button md-logo" aria-label="Harvester - Open Source Hyperconverged Infrastructure" data-md-component="logo">
      
  <img src="../../assets/logo_horizontal_white.png" alt="logo">

    </a>
    Harvester - Open Source Hyperconverged Infrastructure
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/harvester/harvester/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    harvester/harvester
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Harvester Intro
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../iso-install/" class="md-nav__link">
        ISO Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pxe-boot-install/" class="md-nav__link">
        PXE Boot Install
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Harvester Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Harvester Configuration
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-reference" class="md-nav__link">
    Configuration Reference
  </a>
  
    <nav class="md-nav" aria-label="Configuration Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server_url" class="md-nav__link">
    server_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osssh_authorized_keys" class="md-nav__link">
    os.ssh_authorized_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oshostname" class="md-nav__link">
    os.hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osmodules" class="md-nav__link">
    os.modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossysctls" class="md-nav__link">
    os.sysctls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osntp_servers" class="md-nav__link">
    os.ntp_servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osdns_nameservers" class="md-nav__link">
    os.dns_nameservers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oswifi" class="md-nav__link">
    os.wifi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospassword" class="md-nav__link">
    os.password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osenvironment" class="md-nav__link">
    os.environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installmode" class="md-nav__link">
    install.mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installmgmtinterface" class="md-nav__link">
    install.mgmtInterface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installforce_efi" class="md-nav__link">
    install.force_efi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installdevice" class="md-nav__link">
    install.device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installsilent" class="md-nav__link">
    install.silent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installiso_url" class="md-nav__link">
    install.iso_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installpoweroff" class="md-nav__link">
    install.poweroff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installno_format" class="md-nav__link">
    install.no_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installdebug" class="md-nav__link">
    install.debug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installtty" class="md-nav__link">
    install.tty
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/" class="md-nav__link">
        Upgrading Harvester
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../harvester-network/" class="md-nav__link">
        Harvester Network
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../import-image/" class="md-nav__link">
        Import Images
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        VM Management
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="VM Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          VM Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../vm/create-vm/" class="md-nav__link">
        How to Create a VM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../vm/access-to-the-vm/" class="md-nav__link">
        Access to the VM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../vm/backup-restore/" class="md-nav__link">
        VM Backup & Restore
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../vm/live-migration/" class="md-nav__link">
        Live Migration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Rancher Integration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Rancher Integration" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Rancher Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rancher/rancher-integration/" class="md-nav__link">
        Rancher Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rancher/node-driver/" class="md-nav__link">
        Node driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/dev-mode/" class="md-nav__link">
        Developer Mode Installation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-reference" class="md-nav__link">
    Configuration Reference
  </a>
  
    <nav class="md-nav" aria-label="Configuration Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server_url" class="md-nav__link">
    server_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osssh_authorized_keys" class="md-nav__link">
    os.ssh_authorized_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oshostname" class="md-nav__link">
    os.hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osmodules" class="md-nav__link">
    os.modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossysctls" class="md-nav__link">
    os.sysctls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osntp_servers" class="md-nav__link">
    os.ntp_servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osdns_nameservers" class="md-nav__link">
    os.dns_nameservers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oswifi" class="md-nav__link">
    os.wifi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospassword" class="md-nav__link">
    os.password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osenvironment" class="md-nav__link">
    os.environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installmode" class="md-nav__link">
    install.mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installmgmtinterface" class="md-nav__link">
    install.mgmtInterface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installforce_efi" class="md-nav__link">
    install.force_efi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installdevice" class="md-nav__link">
    install.device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installsilent" class="md-nav__link">
    install.silent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installiso_url" class="md-nav__link">
    install.iso_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installpoweroff" class="md-nav__link">
    install.poweroff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installno_format" class="md-nav__link">
    install.no_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installdebug" class="md-nav__link">
    install.debug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installtty" class="md-nav__link">
    install.tty
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/harvester/docs/edit/main/docs/install/harvester-configuration.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="harvester-configuration">Harvester Configuration<a class="headerlink" href="#harvester-configuration" title="Permanent link">&para;</a></h1>
<p>Harvester configuration file can be provided during manual or automatic installation to configure various settings. The following is an configuration example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">server_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://someserver:6443</span>
<span class="nt">token</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TOKEN_VALUE</span>
<span class="nt">os</span><span class="p">:</span>
  <span class="nt">ssh_authorized_keys</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQAB...</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">github:username</span>
  <span class="nt">hostname</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myhost</span>
  <span class="nt">modules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">kvm</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nvme</span>
  <span class="nt">sysctl</span><span class="p">:</span>
    <span class="nt">kernel.printk</span><span class="p">:</span> <span class="s">&quot;4</span><span class="nv"> </span><span class="s">4</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">7&quot;</span>
    <span class="nt">kernel.kptr_restrict</span><span class="p">:</span> <span class="s">&quot;1&quot;</span>
  <span class="nt">dns_nameservers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">8.8.8.8</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1.1.1.1</span>
  <span class="nt">ntp_servers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">0.us.pool.ntp.org</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1.us.pool.ntp.org</span>
  <span class="nt">wifi</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">home</span>
    <span class="nt">passphrase</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassword</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nothome</span>
    <span class="nt">passphrase</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">somethingelse</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rancher</span>
  <span class="nt">environment</span><span class="p">:</span>
    <span class="nt">http_proxy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://myserver</span>
    <span class="nt">https_proxy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://myserver</span>
<span class="nt">install</span><span class="p">:</span>
  <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">create</span>
  <span class="nt">mgmtInterface</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eth0</span>
  <span class="nt">force_efi</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">device</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/dev/vda</span>
  <span class="nt">silent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">iso_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://myserver/test.iso</span>
  <span class="nt">poweroff</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">no_format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">debug</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">tty</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ttyS0</span>
</code></pre></div>
<h2 id="configuration-reference">Configuration Reference<a class="headerlink" href="#configuration-reference" title="Permanent link">&para;</a></h2>
<p>Below is a reference of all configuration keys.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Security Risks</strong>: The configuration file contains credentials which should be kept secretly. Please do not make the configuration file publicly accessible at the moment.</p>
</div>
<h3 id="server_url"><code>server_url</code><a class="headerlink" href="#server_url" title="Permanent link">&para;</a></h3>
<p>The URL of the Harvester server to join as an agent.</p>
<p>This configuration is mandatory when the installation is in <code>JOIN</code> mode. It tells the Harvester installer where the main server is.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">server_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://someserver:6443</span>
<span class="nt">install</span><span class="p">:</span>
  <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">join</span>
</code></pre></div>
<h3 id="token"><code>token</code><a class="headerlink" href="#token" title="Permanent link">&para;</a></h3>
<p>The cluster secret or node token. If the value matches the format of a node token it will
automatically be assumed to be a node token. Otherwise it is treated as a cluster secret.</p>
<p>In order for a new node to join the Harvester cluster, the token should match from what server has.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">token</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myclustersecret</span>
</code></pre></div>
<p>Or a node token</p>
<div class="highlight"><pre><span></span><code><span class="nt">token</span><span class="p">:</span> <span class="s">&quot;K1074ec55daebdf54ef48294b0ddf0ce1c3cb64ee7e3d0b9ec79fbc7baf1f7ddac6::node:77689533d0140c7019416603a05275d4&quot;</span>
</code></pre></div>
<h3 id="osssh_authorized_keys"><code>os.ssh_authorized_keys</code><a class="headerlink" href="#osssh_authorized_keys" title="Permanent link">&para;</a></h3>
<p>A list of SSH authorized keys that should be added to the default user <code>rancher</code>. SSH keys can be obtained from GitHub user accounts by using the format
<code>github:${USERNAME}</code>. This is done by downloading the keys from <code>https://github.com/${USERNAME}.keys</code>.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">ssh_authorized_keys</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;ssh-rsa</span><span class="nv"> </span><span class="s">AAAAB3NzaC1yc2EAAAADAQABAAABAQC2TBZGjE+J8ag11dzkFT58J3XPONrDVmalCNrKxsfADfyy0eqdZrG8hcAxAR/5zuj90Gin2uBR4Sw6Cn4VHsPZcFpXyQCjK1QDADj+WcuhpXOIOY3AB0LZBly9NI0ll+8lo3QtEaoyRLtrMBhQ6Mooy2M3MTG4JNwU9o3yInuqZWf9PvtW6KxMl+ygg1xZkljhemGZ9k0wSrjqif+8usNbzVlCOVQmZwZA+BZxbdcLNwkg7zWJSXzDIXyqM6iWPGXQDEbWLq3+HR1qKucTCSxjbqoe0FD5xcW7NHIME5XKX84yH92n6yn+rxSsyUfhJWYqJd+i0fKf5UbN6qLrtd/D&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;github:ibuildthecloud&quot;</span>
</code></pre></div>
<h3 id="oshostname"><code>os.hostname</code><a class="headerlink" href="#oshostname" title="Permanent link">&para;</a></h3>
<p>Set the system hostname. This value will be overwritten by DHCP if DHCP supplies a hostname for
the system. If DHCP doesn't offer a hostname and this value is empty, a random hostname will be generated.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">hostname</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myhostname</span>
</code></pre></div>
<h3 id="osmodules"><code>os.modules</code><a class="headerlink" href="#osmodules" title="Permanent link">&para;</a></h3>
<p>A list of kernel modules to be loaded on start.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">modules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">kvm</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nvme</span>
</code></pre></div>
<h3 id="ossysctls"><code>os.sysctls</code><a class="headerlink" href="#ossysctls" title="Permanent link">&para;</a></h3>
<p>Kernel sysctl to setup on start. These are the same configuration you'd typically find in <code>/etc/sysctl.conf</code>.
Must be specified as string values.</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">sysctl</span><span class="p">:</span>
    <span class="nt">kernel.printk</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4 4 1 7</span> <span class="c1"># the YAML parser will read as a string</span>
    <span class="nt">kernel.kptr_restrict</span><span class="p">:</span> <span class="s">&quot;1&quot;</span> <span class="c1"># force the YAML parser to read as a string</span>
</code></pre></div>
<h3 id="osntp_servers"><code>os.ntp_servers</code><a class="headerlink" href="#osntp_servers" title="Permanent link">&para;</a></h3>
<p><strong>Fallback</strong> ntp servers to use if NTP is not configured elsewhere in the OS.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">ntp_servers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">0.us.pool.ntp.org</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1.us.pool.ntp.org</span>
</code></pre></div>
<h3 id="osdns_nameservers"><code>os.dns_nameservers</code><a class="headerlink" href="#osdns_nameservers" title="Permanent link">&para;</a></h3>
<p><strong>Fallback</strong> DNS name servers to use if DNS is not configured by DHCP or in the OS.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">dns_nameservers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">8.8.8.8</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1.1.1.1</span>
</code></pre></div>
<h3 id="oswifi"><code>os.wifi</code><a class="headerlink" href="#oswifi" title="Permanent link">&para;</a></h3>
<p>Simple wifi configuration. All that is accepted is <code>name</code> and <code>passphrase</code>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">wifi</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">home</span>
      <span class="nt">passphrase</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassword</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nothome</span>
      <span class="nt">passphrase</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">somethingelse</span>
</code></pre></div>
<h3 id="ospassword"><code>os.password</code><a class="headerlink" href="#ospassword" title="Permanent link">&para;</a></h3>
<p>The password for the default user <code>rancher</code>. By default there is no password for the <code>rancher</code> user.
If you set a password at runtime it will be reset on next boot. The
value of the password can be clear text or an encrypted form. The easiest way to get this encrypted
form is to just change your password on a Linux system and copy the value of the second field from
<code>/etc/shadow</code>. You can also encrypt a password using <code>openssl passwd -1</code>.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">password</span><span class="p">:</span> <span class="s">&quot;$1$tYtghCfK$QHa51MS6MVAcfUKuOzNKt0&quot;</span>
</code></pre></div>
<p>Or clear text</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">supersecure</span>
</code></pre></div>
<h3 id="osenvironment"><code>os.environment</code><a class="headerlink" href="#osenvironment" title="Permanent link">&para;</a></h3>
<p>Environment variables to be set on k3s and other processes like the boot process.
Primary use of this field is to set the http proxy.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">os</span><span class="p">:</span>
  <span class="nt">environment</span><span class="p">:</span>
    <span class="nt">http_proxy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://myserver</span>
    <span class="nt">https_proxy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://myserver</span>
</code></pre></div>
<h3 id="installmode"><code>install.mode</code><a class="headerlink" href="#installmode" title="Permanent link">&para;</a></h3>
<p>Harvester installer mode:</p>
<ul>
<li><code>create</code>: Creating a new Harvester installer</li>
<li><code>join</code>: Join an existing Harvester installer. Need to specify <code>server_url</code>.</li>
</ul>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">install</span><span class="p">:</span>
  <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">create</span>
</code></pre></div>
<h3 id="installmgmtinterface"><code>install.mgmtInterface</code><a class="headerlink" href="#installmgmtinterface" title="Permanent link">&para;</a></h3>
<p>The interface that used to build VM fabric network.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">install</span><span class="p">:</span>
  <span class="nt">mgmtInterface</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eth0</span>
</code></pre></div>
<h3 id="installforce_efi"><code>install.force_efi</code><a class="headerlink" href="#installforce_efi" title="Permanent link">&para;</a></h3>
<p>Force EFI installation even when EFI is not detected. Default: <code>false</code>.</p>
<h3 id="installdevice"><code>install.device</code><a class="headerlink" href="#installdevice" title="Permanent link">&para;</a></h3>
<p>The device to install the OS.</p>
<h3 id="installsilent"><code>install.silent</code><a class="headerlink" href="#installsilent" title="Permanent link">&para;</a></h3>
<p>Reserved.</p>
<h3 id="installiso_url"><code>install.iso_url</code><a class="headerlink" href="#installiso_url" title="Permanent link">&para;</a></h3>
<p>ISO to download and install from if booting from kernel/vmlinuz and not ISO.</p>
<h3 id="installpoweroff"><code>install.poweroff</code><a class="headerlink" href="#installpoweroff" title="Permanent link">&para;</a></h3>
<p>Shutdown the machine after install instead of rebooting</p>
<h3 id="installno_format"><code>install.no_format</code><a class="headerlink" href="#installno_format" title="Permanent link">&para;</a></h3>
<p>Do not partition and format, assume layout exists already.</p>
<h3 id="installdebug"><code>install.debug</code><a class="headerlink" href="#installdebug" title="Permanent link">&para;</a></h3>
<p>Run installation with more logging and configure debug for installed system.</p>
<h3 id="installtty"><code>install.tty</code><a class="headerlink" href="#installtty" title="Permanent link">&para;</a></h3>
<p>The tty device used for console.</p>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="nt">install</span><span class="p">:</span>
  <span class="nt">tty</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ttyS0,115200n8</span>
</code></pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../pxe-boot-install/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              PXE Boot Install
            </div>
          </div>
        </a>
      
      
        <a href="../../authentication/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Authentication
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
        <script src="/assets/swagger-ui/swagger-ui-bundle.js"></script>
      
    
  </body>
</html>